webpackJsonp([1],{ETwY:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"progress-wrapper"},[s("div",{staticClass:"line"},[s("h4",{staticClass:"fontSty"},[t._v("申请人 (受检人)")]),t._v(" "),s("span",[t._v(t._s(t.userName))])]),t._v(" "),s("div",{staticClass:"line",on:{click:t.goRouter}},[s("h4",{staticClass:"fontSty"},[t._v("查看信息")]),t._v(" "),s("i",{staticClass:"arrow"})]),t._v(" "),s("div",{staticClass:"step-wrapper",class:t.isnewStep?"isnewStep":"",style:t.stepHeight},[s("el-steps",{attrs:{direction:"vertical",active:2}},t._l(t.stepList,function(e,i){return s("el-step",{key:i,style:t.stepSingleHeight,attrs:{title:e.title,description:e.description,icon:"el-icon-edit",status:e.status}},[s("template",{slot:"icon"},[s("i",{class:"wait"===e.status?"finishSty":"crrentSty"}),t._v(" "),s("span",{style:e.dateSty},[t._v(t._s(e.date))])])],2)}))],1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowTitle,expression:"isShowTitle"}],staticClass:"fixBottom"},[s("h5",[t._v("历史数据暂不支持查看进度")])])])},a=[],n={render:i,staticRenderFns:a};e.a=n},SNMu:function(t,e,s){"use strict";var i=s("mvHQ"),a=s.n(i),n=s("fZjL"),r=s.n(n),p=s("Xxa5"),o=s.n(p),c=s("exGp"),u=s.n(c),l=s("a+W3"),d=s("Gimz");e.a={data:function(){return{isnewStep:!1,isShowTitle:!1,stepSingleHeight:"",stepHeight:"",urlParams:{express_num:Object(d.c)("report_express_num")||Object(d.c)("agreement_express_num"),sess_token:Object(d.c)("sess_token"),utime:Object(d.c)("utime"),id:Object(d.c)("id"),sign:Object(d.c)("sign"),check_num:Object(d.c)("check_num")},userName:"",stepList:[]}},mounted:function(){var t=this;return u()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:document.title="检测报告进度",!t.urlParams.check_num&&t._oldStep()||t.newStep();case 2:case"end":return e.stop()}},e,t)}))()},methods:{newStep:function(){var t=this;return u()(o.a.mark(function e(){var s,i,a,n,r,p,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.isnewStep=!0,e.next=3,Object(l.a)({url:"https://api.hxsapp.com/slim/Gene/getYMRReportStatus",data:t.urlParams,type:"post"});case 3:s=e.sent,t.userName=s.username,i=[{field:"inputTime",status:"",dateSty:"position: absolute; top: 3px; left: -39px;",date:"",title:"客户信息录入",description:""},{field:"receiveTime",status:"",dateSty:"position: absolute; top: 3px; left: -39px;",date:"",title:"样本已接收",description:""},{field:"checkTime",status:"process",dateSty:"position: absolute; top: 3px; left: -39px;",date:"",title:"正在检测中",description:""},{field:"replayTime",status:"",dateSty:"position: absolute; top: 3px; left: -39px;",date:"",title:"样本重采",description:""},{field:"finishTime",status:"",dateSty:"position: absolute; top: 3px; left: -39px;",date:"",title:"检测完成",description:""},{field:"reportTime",status:"",dateSty:"position: absolute; top: 3px; left: -39px;",date:"",title:"完成报告",description:""}],a=[],n=new Date,r=0;case 9:if(!(r<i.length)){e.next=20;break}if(p=i[r],s[p.field]&&Number(Object(d.a)(new Date(1e3*s[p.field]),"yyMMdd"))>Number(Object(d.a)(n,"yyMMdd"))&&(s[p.field]=null),s[p.field]){e.next=14;break}return e.abrupt("continue",17);case 14:p.date=s[p.field]?Object(d.a)(new Date(1e3*s[p.field]),"MM-dd"):"",p.status="wait",a.push(p);case 17:r++,e.next=9;break;case 20:c=a.length,a[c-1].status="process",a.length<2&&(t.stepHeight="height: 80px;"),2<a.length<3&&(t.stepHeight="height: 180px;",t.stepSingleHeight="flex-basis: 30%;"),a.length>3&&(t.stepHeight="height: 300px;",t.stepSingleHeight="flex-basis: 100%;"),t.stepList=a;case 26:case"end":return e.stop()}},e,t)}))()},_oldStep:function(){var t=this;return u()(o.a.mark(function e(){var s,i,a,n,p,c,u,m,f,h,x,b,g,w,S;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.urlParams,s.app_version="3.7.2",s.agreement_id=s.id,i=!1,Object(d.c)("version")&&"3.7.0"===Object(d.c)("version")&&(i=!0,t.isShowTitle=!0),e.next=7,Object(l.a)({type:"post",url:"https://api.hxsapp.com/slim/gene/getReportStatus",data:s}).catch(function(t){return i=!0});case 7:if(a=e.sent,n=a.userName,t.userName=n,!i){e.next=13;break}return t.stepList=[],e.abrupt("return");case 13:p=[{status:"",dateSty:"position: absolute; top: 5px; left: -34px;",date:"",title:"客户信息录入",description:""},{status:"",dateSty:"position: absolute; top: 5px; left: -34px;",date:"",title:"样本预计签收",description:""},{status:"process",dateSty:"position: absolute; top: 5px; left: -34px;",date:"",title:"DNA提取与扩增",description:"约1个工作日"},{status:"",dateSty:"position: absolute; top: 5px; left: -34px;",date:"",title:"产物分析",description:"约1个工作日"},{status:"",dateSty:"position: absolute; top: 5px; left: -34px;",date:"",title:"结果分析",description:"约1个工作日"},{status:"",dateSty:"position: absolute; top: 5px; left: -35px;",date:"",title:"完成报告",description:""}],c=1e3*a.createTime,u=1e3*a.signTime,m=1e3*a.dnaTime,f=1e3*a.productTime,h=1e3*a.resultTime,x=1e3*a.finishTime,b=1e3*a.nowTime,r()(a).forEach(function(t){"number"==typeof a[t]&&(a[t]=1e3*a[t]);var e=Object(d.a)(new Date(a[t]),"MM-dd"),s=(Object(d.a)(new Date,"MM-dd"),a[t]?Object(d.a)(new Date(a[t]),"MM-dd"):"");a[t]>x&&0!==x&&(s=Object(d.a)(new Date(x),"MM-dd"));"createTime"===t?(p[0].status=0==x?c<b&&u>b?"process":"wait":c<b&&u>b&&x>b?"process":"wait",p[0].date=s):"signTime"===t?(p[1].status=0==x?u<b&&m>b?"process":"wait":u<b&&m>b&&x>b?"process":"wait",p[1].date=s):"dnaTime"===t?(p[2].status=0==x?m<b&&f>b?"process":"wait":m<b&&f>b&&x>b?"process":"wait",p[2].date=s):"productTime"===t?(p[3].status=0==x?f<b&&h>b?"process":"wait":f<b&&h>b&&x>b?"process":"wait",p[3].date=s):"resultTime"===t?(p[4].status=0==x?h<b&&h>x?"process":"wait":h<b&&h>x&&x>b?"process":"wait",p[4].date=s):"finishTime"===t&&a[t]&&(p[5].status=x<b&&0!==x?"process":"wait",p[5].date=s)}),g=[],w=!0,S=0;case 25:if(!(S<p.length)){e.next=43;break}if(w&&g.push(p[S]),"0"!==a.signTime&&0!==a.signTime||0!==S||(g[S].status="process",g[S].dateSty="position: absolute; top: 5px; left: -37px;",w=!1),"0"!==a.dnaTime&&0!==a.dnaTime||1!==S||(g[S].status="process",g[S].dateSty="position: absolute; top: 5px; left: -34px;",w=!1),"0"!==a.productTime&&0!==a.productTime||2!==S||(g[S].status="process",g[S].dateSty="position: absolute; top: 5px; left: -34px;",w=!1),"0"!==a.resultTime&&0!==a.resultTime||3!==S||(g[S].status="process",g[S].dateSty="position: absolute; top: 5px; left: -37px;",w=!1),"0"!==a.signTime&&0!==a.signTime){e.next=33;break}return e.abrupt("break",43);case 33:if("0"!==a.dnaTime&&(0!==a.dnaTime||1!==S)){e.next=35;break}return e.abrupt("break",43);case 35:if("0"!==a.productTime&&(0!==a.productTime||2!==S)){e.next=37;break}return e.abrupt("break",43);case 37:if("0"!==a.resultTime&&(0!==a.resultTime||3!==S)){e.next=39;break}return e.abrupt("break",43);case 39:"process"===p[S].status&&(g[S].dateSty="position: absolute; top: 5px; left: -34px;",w=!1);case 40:S++,e.next=25;break;case 43:g.length<2&&(t.stepHeight="height: 80px;"),2<g.length<3&&(t.stepHeight="height: 180px;",t.stepSingleHeight="flex-basis: 30%;"),g.length>3&&(t.stepHeight="height: 300px;",t.stepSingleHeight="flex-basis: 100%;"),t.stepList=g;case 48:case"end":return e.stop()}},e,t)}))()},goRouter:function(){var t=JSON.parse(a()(this.urlParams));t.isAdd=0;var e="https://app.hxsapp.com/hxsweb/geneMsg";this.urlParams.check_num&&(e="https://app.hxsapp.com/hxsweb/grilMsg");var s=Object(d.b)(t,e);window.location.href=s}}}},eerZ:function(t,e){},lnsC:function(t,e){},qXcF:function(t,e,s){"use strict";function i(t){s("eerZ"),s("lnsC")}Object.defineProperty(e,"__esModule",{value:!0});var a=s("SNMu"),n=s("ETwY"),r=s("VU/8"),p=i,o=r(a.a,n.a,!1,p,"data-v-7cb836ae",null);e.default=o.exports}});